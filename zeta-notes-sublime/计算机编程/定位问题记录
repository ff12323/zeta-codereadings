定位问题记录


1、对比正常的日志。可以确定是 CreatLogPlog，创建的时候出现问题了。
....
....

定位的策略：
   定位问题，有时候耗时很长。难于1次，快速的定位完。也不见得有结论，这时需要考虑可以“中断/继续”的技巧。
      1、记录日志信息，过程信息，思路信息，时间信息，流程信息。可以中断后继续，可以再审视自己的定位过程。

定位困难：
  1、找不到方向，怀疑无用。
   2、是否怀疑错地方了呢？
       2.1：当前是看到了block的任务阻塞日志，且是协程框架的线程6，属于XXXClient的线程。
             根据之前的经验，怀疑是这个线程进入到 1、死循环 2、死锁（自旋锁） 3、条件变量
                1、CreatLogXXX 流程没有死循环
                3、条件变量不存在
   3、无法本地复现。
   4、排查一遍create流程的代码，确定无问题。（且单独运行时也无问题）
   5、剩下的怀疑点，mLock。 这是全局的锁。也是 CreatLogXXX的唯一锁。如果被其它地方影响，很可能出现bug。
      5.1 排查了 mLock的12个使用地方，发现都范围锁。全都是使用后，会释放的。（也就不可能是死锁，只有1个锁，与2个锁造成死锁的例子不符）
  定位耗时：【3h】，依旧没有结论。 应当先暂停，还有其它事情要做。